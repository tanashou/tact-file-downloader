# Tact File Downloader

東海国立大学機構の学習支援システム TACT から講義資料などのファイルを一括でダウンロードするためのツールです。

## Requirements

-   [rye](https://rye-up.com)

## Installation

1. このリポジトリをクローンしてください。
    ```
    git clone https://github.com/tanashou/tact-file-downloader.git
    ```

## Setup

1. `rye`を[こちら](https://rye-up.com/guide/installation/)のインストール方法に従ってインストールしてください。

1. プロジェクトのディレクトリに移動した後に次のコマンドを実行してください。各種依存パッケージなどがインストールされます。

    ```
    rye sync
    ```

1. TACT のログインに必要なユーザー名やパスワードを環境変数として登録してください。それぞれの環境変数名は次のようにしてください。
   | 変数名 | 値 |
   | ------------ | ---------------- |
   | TACT_USERNAME | TACT のユーザー名 |
   | TACT_PASSWORD | TACT のパスワード |

## Usage

1. プロジェクトのディレクトリに移動した後に次のコマンドを実行してください。

    ```
    rye run main
    ```

1. TACT にログインするためのワンタイムパスワードを求められるので、入力してください。

1. 初回実行時にはファイルのダウンロード先を聞かれるので、ダウンロード先を指定してください。初回以降はダウンロード先が`config.ini`に保存されるので再度聞かれることはありません。ダウンロード先を変更したい場合は`config.ini`を削除して、実行時に再度ダウンロード先を指定してください。

1. ファイルがダウンロードが開始されます。すでにダウンロード済みのファイルはスキップされます。

## TODO

-   [x] ワンタイムパスワードの自動取得。
-   [ ] ファイルをダウンロードしたい講義の選択。お気に入りの講義のみを取得するなどしたい。
